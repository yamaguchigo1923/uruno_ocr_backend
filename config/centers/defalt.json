{
  "id": "defalt",
  "displayName": "defalt",
  "templateSpreadsheetId": "1tIO4OvE5SC0NN1tDEIAbZV6xQ_4QiA3Jd7Pi2gLfN1o",
  "templateSheetId": 1557733602,
  "exportStartRow": 32,
  "coverPages": 0,
  "crop": {
    "top_pct": 0.0,
    "bottom_pct": 0.0,
    "left_pct": 0.0,
    "right_pct": 0.0
  },
  "poll": {
    "startCol": "B",
    "endCol": "K",
    "readyColRelativeIndex": 0,
    "minReadyRatio": 0.95
  },
  "nutrition": {
    "module": [1],
    "col": ["規 格", "規格", "銘柄·条件", "銘柄・条件", "銘柄条件"],
    "matching": ["内容表提出", "成分表提出"]
  },
  "sample": {
    "module": [1],
    "col": ["規 格", "規格", "備考"],
    "matching": ["見本提出", "見本 提出", "◯", "○", "O"]
  },
  "llm": {
    "enabled": true,
    "header": [
      "番号",
      "商品名・規格名",
      "銘柄・条件",
      "備考",
      "成分表",
      "見本"
    ],
    "prompt_lines": [
      "0) Jsonスキーマに従って､DocumentIntelligenceで読み取った表情報を整理してください｡その際に条件がいくつかあります｡",
      "1) まずDocumentIntelligenceによる､意図してない､セル内での改行が発生してしまっている部分や､空行なのに読み取っている部分を表としてまとまるように整形・削除して修正してください｡一応列や行の改変にはコンマがついているので､意図していないものにはそれがついていないことが多いので注目してください｡",
      "2) 出力する「商品名・規格名」と「銘柄・条件」については読み取った情報を忠実に省略せずに出力してください｡しかしOCR読み取りのミスや列のご認識などが疑われた場合のみ､修正して出力してほしい｡それを治す機能も発揮してほしい｡基本的にはOCRの精度が高いのでそのまま省略せずに出力すること｡",
      "3) 出力する「番号」列は必ずしも順番にはなっていませんが､基本的には順番になっているので､前後から修正できるところで確度が高いものは直してください｡最後まで連番になっているルールはないので､確度が元々低いものを周辺から予測するようにしてください｡基本的にはそのままの情報を構造化出力に沿って整理すること｡",
      "4) 出力する「成分表」列についてです｡「銘柄・条件」列に「配合表添付」があれば「成分表列」にTを入れてください｡その行にない場合はF｡これを行ごとに全ての行でおこなってください｡",
      "5) 出力する「見本列」列についてです｡「銘柄・条件」列に「サンプル」があれば「見本」列にTを入れてください｡ない場合はF｡これを行ごとに全ての行でおこなってください｡",
      "6) 各列の値には改行文字（LF/CRLF）を含めないでください。複数行の情報は半角スペース1つで連結し、連続する空白は1つに正規化してください。句読点・中点・ハイフンの直後で改行されている場合も改行は挿入せず、適切に連結してください。"
    ],
    "json_schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Normalized Order Table",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "rows": {
          "type": "array",
          "description": "OCRテーブルから整形された固定列レイアウトの行リスト",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "番号": {
                "type": "string",
                "description": "元の表の行順に対応する1始まりの番号"
              },
              "商品名・規格名": {
                "type": "string",
                "description": "商品名・規格のテキスト"
              },
              "銘柄・条件": {
                "type": "string",
                "description": "銘柄や条件、提出指示などの注記"
              },
              "備考": {
                "type": "string",
                "description": "その他の備考"
              },
              "成分表": {
                "type": "string",
                "enum": ["T", "F"],
                "description": "成分表提出が必要なら `T`、不要なら `F`"
              },
              "見本": {
                "type": "string",
                "enum": ["T", "F"],
                "description": "見本提出が必要なら `T`、不要なら `F`"
              }
            },
            "required": [
              "番号",
              "商品名・規格名",
              "銘柄・条件",
              "備考",
              "成分表",
              "見本"
            ]
          }
        }
      },
      "required": ["rows"]
    }
  },
  "ranges": {
    "catalog": "'商品'!A10:H30000",
    "export": {
      "makerHeader": "B4:E4",
      "centerName": "B27:E27",
      "month": "F27"
    }
  }
}
